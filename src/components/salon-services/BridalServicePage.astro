---
import Header from '../Header.astro';
import PricingSection from '../service-pricing/PricingSection.astro';
import Layout from '../../layouts/Layout.astro';
import Footer from '../Footer.astro';
import '../../styles/services.css';

export interface Props {
    title: string;
    description: string;
    pageTitle: string;
    introText: string;
    services: Array<{
        serviceName: string;
        price: string;
        description?: string;
    }>;
}

const { title, description, pageTitle, introText, services } = Astro.props;

// Generate service-specific structured data
const serviceStructuredData = {
    "@context": "https://schema.org",
    "@type": "Service",
    "name": pageTitle,
    "description": description,
    "provider": {
        "@type": "BeautySalon",
        "name": "Glow Salon & Spa",
        "url": "https://www.glowsalonwestclay.com",
        "telephone": "317-846-3073",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "1928 Rhettsbury St",
            "addressLocality": "Carmel",
            "addressRegion": "IN",
            "postalCode": "46032",
            "addressCountry": "US"
        }
    },
    "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": `${pageTitle} Services`,
        "itemListElement": services.map((service, index) => ({
            "@type": "Offer",
            "itemOffered": {
                "@type": "Service",
                "name": service.serviceName,
                "description": service.description || service.serviceName
            },
            "price": service.price,
            "priceCurrency": "USD"
        }))
    }
};

// Generate breadcrumb data
const breadcrumbData = {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://www.glowsalonwestclay.com"
        },
        {
            "@type": "ListItem",
            "position": 2,
            "name": "Services",
            "item": "https://www.glowsalonwestclay.com"
        },
        {
            "@type": "ListItem",
            "position": 3,
            "name": pageTitle,
            "item": Astro.url.href
        }
    ]
};

// Group services by type
const hairServices = services.filter(service => service.serviceName.includes('Hair'));
const makeupServices = services.filter(service => service.serviceName.includes('Makeup'));
const additionalServices = services.filter(service => service.serviceName.includes('On-Site'));
---

<Layout title={title} description={description}>
    <!-- Service-specific structured data -->
    <script is:inline type="application/ld+json" set:html={JSON.stringify(serviceStructuredData)} />
    
    <!-- Breadcrumb structured data -->
    <script is:inline type="application/ld+json" set:html={JSON.stringify(breadcrumbData)} />
    
    <Header />
    
    <main class="service-page">
        <div class="service-container">
            <div class="service-content">
                <h1>{pageTitle}</h1>
                <p class="service-intro">{introText}</p>

                <div class="services-list">
                    <!-- Bridal Hair Section -->
                    {hairServices.length > 0 && (
                        <div class="service-section">
                            <h2 class="section-header">Hair</h2>
                            {hairServices.map((service) => (
                                <PricingSection 
                                    serviceName={service.serviceName} 
                                    price={service.price} 
                                    description={service.description}
                                />
                            ))}
                        </div>
                    )}

                    <!-- Bridal Makeup Section -->
                    {makeupServices.length > 0 && (
                        <div class="service-section">
                            <h2 class="section-header">Makeup</h2>
                            {makeupServices.map((service) => (
                                <PricingSection 
                                    serviceName={service.serviceName} 
                                    price={service.price} 
                                    description={service.description}
                                />
                            ))}
                        </div>
                    )}

                    <!-- Additional Services Section -->
                    {additionalServices.length > 0 && (
                        <div class="service-section">
                            <h2 class="section-header">Additional Services</h2>
                            {additionalServices.map((service) => (
                                <PricingSection 
                                    serviceName={service.serviceName} 
                                    price={service.price} 
                                    description={service.description}
                                />
                            ))}
                        </div>
                    )}
                </div>

                <!-- Contact section for bridal services -->
                <div class="bridal-contact-section">
                    <h2>Contact Us for Bridal Services</h2>
                    <p>For bridal consultations, trials, and bookings, please contact us directly:</p>
                    
                    <div class="contact-buttons">
                        <a href="tel:+13178463073" class="contact-button phone-button">
                            <span class="button-icon">üìû</span>
                            Call to Book
                        </a>
                        <a href="mailto:glowsalonwestclay@gmail.com" class="contact-button email-button">
                            <span class="button-icon">‚úâÔ∏è</span>
                            Email Us
                        </a>
                    </div>
                    
                </div>

                <!-- Bridal Services Information Section -->
                <div class="service-section">
                    <h3 class="service-name">Bridal Services Information</h3>
                    <ul>
                        <li>Trials are recommended for bridal services to ensure your perfect look</li>
                        <li>On-site services available with travel fee ($1.00 per mile)</li>
                        <li>Group bookings available for bridal parties</li>
                        <li>Early booking recommended for wedding dates</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>
    <Footer />
</Layout>

<style>
    .service-section {
        margin-bottom: 40px;
    }

    .section-header {
        font-family: 'Safira March', serif;
        color: #333333;
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 20px;
        text-align: left;
    }

    @media (max-width: 768px) {
        .section-header {
            font-size: 1.5rem;
        }
    }

    /* Contact section styling */
    .bridal-contact-section {
        margin-top: 40px;
        padding-top: 40px;
    }

    .bridal-contact-section h2 {
        font-family: 'Safira March', serif;
        color: #333333;
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 15px;
    }

    .bridal-contact-section p {
        font-family: 'Poppins', sans-serif;
        color: #666666;
        font-size: 1rem;
        margin-bottom: 25px;
    }

    .contact-buttons {
        display: flex;
        gap: 15px;
        margin-bottom: 30px;
        flex-wrap: wrap;
    }

    .contact-button {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 12px 20px;
        background-color: white;
        color: #333333;
        text-decoration: none;
        font-size: 1rem;
        font-weight: 600;
        font-family: 'Inter', sans-serif;
        border-radius: 6px;
        border: 2px solid #333333;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .contact-button:hover {
        background-color: #333333;
        color: white;
        transform: translateY(-1px);
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
    }

    .button-icon {
        font-size: 1.1rem;
    }



    .service-section ul {
        list-style: none;
        padding-left: 0;
        margin: 0;
    }

    .service-section li {
        font-family: 'Poppins', sans-serif;
        color: #333333;
        font-size: 1rem;
        margin-bottom: 10px;
        line-height: 1.4;
        position: relative;
        padding-left: 25px;
    }

    .service-section li::before {
        content: "üíç";
        position: absolute;
        left: 0;
        top: 0;
        font-size: 1rem;
    }

    /* Ensure Bridal Services Information heading matches On-Site Services */
    .service-section .service-name {
        color: #D4B2A7;
        font-family: 'Poppins', sans-serif;
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 15px;
        max-width: 85%;
    }

    @media (max-width: 768px) {
        .contact-buttons {
            flex-direction: column;
        }
        
        .contact-button {
            justify-content: center;
        }
        
        .bridal-contact-section h2 {
            font-size: 1.5rem;
        }
    }
</style> 