---
/**
 * BridalServicePage component
 * Single Responsibility: Display bridal service page with enhanced SEO and pricing
 */
import Header from '../Header.astro';
import PricingSection from '../service-pricing/PricingSection.astro';
import Layout from '../../layouts/Layout.astro';
import Footer from '../Footer.astro';
import StructuredData from '../SEO/StructuredData.astro';
import Breadcrumbs from '../SEO/Breadcrumbs.astro';
import SectionHeader from '../SectionHeader.astro';
import BridalPackageCard from './BridalPackageCard.astro';
import CalendlyButton from '../buttons/CalendlyButton.astro';
import FAQSection from '../FAQSection.astro';
import BridalGallery from '../BridalGallery.astro';
import { generateBridalServiceSchema } from '../../utils/structuredData';
import { BUSINESS_INFO } from '../../config/constants';
import type { Service, FAQItem } from '../../utils/structuredData';
import '../../styles/services.css';

export interface Props {
    title: string;
    description: string;
    pageTitle: string;
    introText: string;
    services: Service[];
    faqs?: FAQItem[];
}

const { title, description, pageTitle, introText, services, faqs } = Astro.props;

// Generate comprehensive structured data for wedding services
const serviceStructuredData = generateBridalServiceSchema(pageTitle, description, services);

// Group services by type
const hairServices = services.filter(service => service.serviceName.includes('Hair'));
const makeupServices = services.filter(service => service.serviceName.includes('Makeup'));
const additionalServices = services.filter(service => service.serviceName.includes('On-Site'));

const bridalPackages = [
    {
        name: "Classic Bridal Package",
        price: "$370",
        services: [
            "Bridal Hair with Trial ($220)",
            "Bridal Makeup with Trial ($220)",
        ],
        bundleValue: "Bundle value $440",
        savings: "‚Üí Save $70",
        featured: true
    },
    {
        name: "Essential Bridal Package",
        price: "$270",
        services: [
            "Bridal Hair no Trial ($150)",
            "Bridal Makeup no Trial ($150)",
        ],
        bundleValue: "Bundle value $300",
        savings: "‚Üí Save $30",
    },
    {
        name: "Bridesmaid Bundle",
        price: "$180",
        priceSuffix: "/person",
        services: [
            "Bridesmaid Hair ($100)",
            "Bridesmaid Makeup ($100)",
        ],
        bundleValue: "Bundle value $200",
        savings: "‚Üí Save $20",
    },
    {
        name: "Moms Bundle",
        price: "$180",
        priceSuffix: "/person",
        services: [
            "Mother Hair ($100)",
            "Mother Makeup ($100)",
        ],
        bundleValue: "Bundle value $200",
        savings: "‚Üí Save $20",
    },
];
---

<Layout title={title} description={description}>
    <StructuredData data={serviceStructuredData} />
    <Breadcrumbs items={[
        { name: "Home", url: BUSINESS_INFO.website },
        { name: "Services", url: `${BUSINESS_INFO.website}/services` },
        { name: pageTitle, url: Astro.url.href },
    ]} />

    <Header />
    
    <main class="service-page">
        <div class="service-container">
            <div class="service-content">
                <h1>Bridal Hair & Makeup in Carmel, IN - Look Flawless on Your Special Day</h1>
                <p class="service-intro">{introText}</p>

                <!-- Bridal Photo Gallery -->
                <BridalGallery />
                
                <!-- Bridal Packages Section -->
                <div class="bridal-packages-section">
                    <SectionHeader text="Hair & Makeup Packages" level={2} className="left-align" />
                    <p class="packages-intro">Save when you bundle hair and makeup services together!</p>
                    
                    <div class="packages-grid">
                        {bridalPackages.map((pkg) => (
                            <BridalPackageCard {...pkg} />
                        ))}
                    </div>
                </div>

                <div class="services-list">
                    <!-- Bridal Hair Section -->
                    {hairServices.length > 0 && (
                        <div class="service-section">
                            <SectionHeader text="Individual Hair Services" level={2} className="left-align" />
                            {hairServices.map((service) => (
                                <PricingSection 
                                    serviceName={service.serviceName} 
                                    price={service.price} 
                                    description={service.description}
                                />
                            ))}
                        </div>
                    )}

                    <!-- Bridal Makeup Section -->
                    {makeupServices.length > 0 && (
                        <div class="service-section">
                            <SectionHeader text="Individual Makeup Services" level={2} className="left-align" />
                            {makeupServices.map((service) => (
                                <PricingSection 
                                    serviceName={service.serviceName} 
                                    price={service.price} 
                                    description={service.description}
                                />
                            ))}
                        </div>
                    )}

                    <!-- Additional Services Section -->
                    {additionalServices.length > 0 && (
                        <div class="service-section">
                            <SectionHeader text="Additional Services" level={2} className="left-align" />
                            {additionalServices.map((service) => (
                                <PricingSection 
                                    serviceName={service.serviceName} 
                                    price={service.price} 
                                    description={service.description}
                                />
                            ))}
                        </div>
                    )}
                </div>

                <!-- Enhanced CTA section for bridal services -->
                <div class="bridal-seo-content">
                    <h2>Book Your Bridal Trial Today</h2>
                    <p>Ready to feel radiant on your special day? Contact our wedding beauty team to schedule your trial and secure your wedding date. We serve Carmel, Westfield, Fishers, and surrounding Indianapolis areas.</p>
                    
                    <div class="cta-buttons">
                        <a href="tel:+13178463073" class="cta-button">
                            <span class="button-icon">üìû</span>
                            Book Your Trial
                        </a>
                        <a href="/contact" class="cta-button">
                            <span class="button-icon">‚úâÔ∏è</span>
                            Request a Quote
                        </a>
                        <CalendlyButton 
                            href={BUSINESS_INFO.bridalConsultationUrl}
                            label="Schedule Consultation"
                            icon="üìÖ"
                            variant="secondary"
                            className="cta-button-calendly"
                        />
                    </div>
                </div>

                <!-- Bridal Services Information Section -->
                <div class="service-section">
                    <h3 class="service-name">Bridal Services Information</h3>
                    <ul>
                        <li>Trials are recommended for bridal services to ensure your perfect look</li>
                        <li>On-site services available with travel fee ($1.00 per mile)</li>
                        <li>Group bookings available for bridal parties</li>
                        <li>Early booking recommended for wedding dates</li>
                    </ul>
                </div>

                {faqs && faqs.length > 0 && (
                    <FAQSection faqs={faqs} />
                )}
            </div>
        </div>
    </main>
    <Footer />
</Layout>

<style>
    .service-section {
        margin-bottom: 40px;
    }

    .left-align {
        justify-content: flex-start;
        text-align: left;
    }

    /* SEO content styling */
    .bridal-seo-content {
        margin: 30px 0;
        padding: 30px;
        background-color: #f8f6f4;
        border-radius: 8px;
        border-left: 4px solid #D4B2A7;
    }

    .bridal-seo-content h2 {
        font-family: 'Safira March', serif;
        color: #333333;
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 15px;
    }

    .bridal-seo-content p {
        font-family: 'Poppins', sans-serif;
        color: #555555;
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 20px;
    }

    /* Bridal Packages Section */
    .bridal-packages-section {
        margin: 40px 0;
        padding: 30px;
        background-color: #f8f6f4;
        border-radius: 8px;
        border-left: 4px solid #D4B2A7;
    }

    .packages-intro {
        font-family: 'Poppins', sans-serif;
        color: #555555;
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 25px;
        text-align: center;
    }

    .packages-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
        margin-top: 25px;
    }


    /* CTA buttons within SEO content */
    .bridal-seo-content .cta-buttons {
        margin-top: 30px;
        text-align: center;
    }

    .cta-buttons {
        display: flex;
        gap: 15px;
        margin-bottom: 40px;
        flex-wrap: wrap;
        justify-content: center;
    }

    .cta-button {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 15px 25px;
        background-color: white;
        color: #333333;
        text-decoration: none;
        font-size: 1rem;
        font-weight: 600;
        font-family: 'Inter', sans-serif;
        border-radius: 8px;
        border: 2px solid #333333;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        min-width: 160px;
        justify-content: center;
    }

    .cta-button:hover {
        background-color: #333333;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }

    .button-icon {
        font-size: 1.1rem;
    }

    /* Override CalendlyButton styles to match CTA buttons */
    .cta-button-calendly {
        padding: 15px 25px;
        min-width: 160px;
    }

    .service-section ul {
        list-style: none;
        padding-left: 0;
        margin: 0;
    }

    .service-section li {
        font-family: 'Poppins', sans-serif;
        color: #333333;
        font-size: 1rem;
        margin-bottom: 10px;
        line-height: 1.4;
        position: relative;
        padding-left: 25px;
    }

    .service-section li::before {
        content: "üíç";
        position: absolute;
        left: 0;
        top: 0;
        font-size: 1rem;
    }

    /* Ensure Bridal Services Information heading matches On-Site Services */
    .service-section .service-name {
        color: #D4B2A7;
        font-family: 'Poppins', sans-serif;
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 15px;
        max-width: 85%;
    }

    @media (max-width: 768px) {
        .cta-buttons {
            flex-direction: column;
            align-items: center;
        }
        
        .cta-button {
            justify-content: center;
            width: 100%;
            max-width: 280px;
        }
        
        
        .bridal-seo-content {
            padding: 20px;
            margin: 20px 0;
        }
        
        .bridal-seo-content h2 {
            font-size: 1.5rem;
        }
        
        .bridal-packages-section {
            padding: 20px;
            margin: 20px 0;
        }

        .packages-grid {
            grid-template-columns: 1fr;
            gap: 20px;
        }
    }
</style> 